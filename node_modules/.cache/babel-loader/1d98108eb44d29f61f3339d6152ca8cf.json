{"ast":null,"code":"import _toConsumableArray from\"C:\\\\webdev\\\\gpa\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\toConsumableArray.js\";import _slicedToArray from\"C:\\\\webdev\\\\gpa\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import{useState,useEffect}from'react';import{Container,Row,Col,Table,Button}from\"react-bootstrap\";import{FaBan}from'react-icons/fa';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var termGPA1=[];var termGPA2=[];var termGPA3=[];function GPATable(_ref){var data=_ref.data,setDataItems=_ref.setDataItems,subData=_ref.subData;var _useState=useState(),_useState2=_slicedToArray(_useState,2),dataRows=_useState2[0],setDataRows=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalGPA=_useState4[0],setTotalGPA=_useState4[1];var styles={textCenter:{textAlign:'center'},textRight:{textAlign:'right'},textLeft:{textAlign:'left'}};useEffect(function(){var credit=0;var gpa=0;var currrentGrade=0;var totalCredit=0;var z=data.map(function(v,i){if(v.grade===\"A\"){currrentGrade=\"4.00\";}else if(v.grade===\"A-\"){currrentGrade=\"3.75\";}else if(v.grade===\"B+\"){currrentGrade=\"3.25\";}else if(v.grade===\"B\"){currrentGrade=\"3.00\";}else if(v.grade===\"B-\"){currrentGrade=\"2.75\";}else if(v.grade===\"C+\"){currrentGrade=\"2.25\";}else if(v.grade===\"C\"){currrentGrade=\"2.00\";}else if(v.grade===\"C-\"){currrentGrade=\"1.75\";}else if(v.grade===\"D\"){currrentGrade=\"1.00\";}else if(v.grade===\"F\"){currrentGrade=\"0.00\";}else if(v.grade===\"-\"){currrentGrade=\"0.00\";}subData.forEach(function(e){if(v.grade!==\"-\"&&e[0]===v.sub){credit=e[2];totalCredit+=Number(credit);}});gpa+=Number(currrentGrade)*Number(credit);var sem=\"\"+v.term+\"/\"+v.year;var existInArr=termGPA1.indexOf(sem)>-1;var semChanged=false;if(existInArr===false){termGPA1.push(sem);semChanged=true;}if(semChanged===true){termGPA2.push([sem,0,0,0,0]);termGPA3.push([sem,0]);}var currentGPA=0;termGPA2.forEach(function(s){if(s[0]===sem){s[1]+=Number(currrentGrade);s[2]+=Number(credit);s[3]+=Number(currrentGrade)*Number(credit);s[4]=s[3]/s[2];currentGPA=s[4];}});termGPA3.forEach(function(sg){if(sg[0]===sem){sg[1]=currentGPA;}});return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(FaBan,{onClick:function onClick(){return deleteClick(i);}})}),/*#__PURE__*/_jsx(\"td\",{style:styles.textCenter,children:v.sub}),/*#__PURE__*/_jsxs(\"td\",{style:styles.textCenter,children:[v.term,\"/\",v.year]}),/*#__PURE__*/_jsx(\"td\",{style:styles.textCenter,children:v.grade})]},i);});console.log(\"sum gpa, credits:\",gpa,totalCredit);setDataRows(z);setTotalGPA(gpa/totalCredit);},[data]);var clearData=function clearData(){setDataItems([]);setDataRows([]);console.log('cleared items');};var deleteClick=function deleteClick(i){console.log(i,'deleted!');data.splice(i,1);setDataItems(_toConsumableArray(data));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h2\",{children:\"Kasidit's GPA\"})}),/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(Button,{onClick:clearData,variant:\"dark\",children:\"Clear\"})})]}),/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{children:\"Subject\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Term\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Grade\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:dataRows}),/*#__PURE__*/_jsx(\"tfoot\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{colSpan:2}),/*#__PURE__*/_jsx(\"th\",{style:styles.textRight,children:\"GPA\"}),/*#__PURE__*/_jsx(\"th\",{style:styles.textRight,children:totalGPA.toFixed(2)})]})})]})]});}export default GPATable;","map":{"version":3,"sources":["C:/webdev/gpa/src/GPATable.js"],"names":["useState","useEffect","Container","Row","Col","Table","Button","FaBan","termGPA1","termGPA2","termGPA3","GPATable","data","setDataItems","subData","dataRows","setDataRows","totalGPA","setTotalGPA","styles","textCenter","textAlign","textRight","textLeft","credit","gpa","currrentGrade","totalCredit","z","map","v","i","grade","forEach","e","sub","Number","sem","term","year","existInArr","indexOf","semChanged","push","currentGPA","s","sg","deleteClick","console","log","clearData","splice","toFixed"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\nimport { Container, Row, Col, Table, Button } from \"react-bootstrap\";\nimport { FaBan } from 'react-icons/fa';\n\n\n      var termGPA1 = []\n      var termGPA2 = []\n      var termGPA3 = []\n\nfunction GPATable({ data, setDataItems, subData }) {\n\n    const [dataRows, setDataRows] = useState();\n    const [totalGPA, setTotalGPA] = useState(0);\n\n    const styles = {\n      textCenter: {textAlign: 'center'},\n      textRight: {textAlign: 'right'},\n      textLeft: {textAlign: 'left'}\n    }\n\n    useEffect(() => {\n      let credit = 0\n      let gpa = 0\n      let currrentGrade = 0\n      let totalCredit = 0\n      \n\n      const z = data.map((v, i) => {\n\n        \n        if (v.grade === \"A\") {\n          currrentGrade = \"4.00\"\n        } else if (v.grade === \"A-\") {\n          currrentGrade = \"3.75\"\n        } else if (v.grade === \"B+\") {\n          currrentGrade = \"3.25\"\n        } else if (v.grade === \"B\") {\n          currrentGrade = \"3.00\"\n        } else if (v.grade === \"B-\") {\n          currrentGrade = \"2.75\"\n        } else if (v.grade === \"C+\") {\n          currrentGrade = \"2.25\"\n        } else if (v.grade === \"C\") {\n          currrentGrade = \"2.00\"\n        } else if (v.grade === \"C-\") {\n          currrentGrade = \"1.75\"\n        } else if (v.grade === \"D\") {\n          currrentGrade = \"1.00\"\n        } else if (v.grade === \"F\") {\n          currrentGrade = \"0.00\"\n        } else if (v.grade === \"-\") {\n          currrentGrade = \"0.00\"\n        }\n\n        \n        subData.forEach((e) => {\n          \n          if (v.grade !== \"-\" && e[0] === v.sub) {\n            credit = e[2]\n            totalCredit += Number(credit)\n          }\n        })\n\n        \n        gpa += Number(currrentGrade) * Number(credit) \n        \n\n        let sem = \"\" + v.term + \"/\" + v.year\n        let existInArr = termGPA1.indexOf(sem) > -1\n        let semChanged = false\n        if (existInArr === false) {\n          termGPA1.push(sem)\n          semChanged = true\n        }\n        \n\n        \n        if (semChanged === true) {\n          termGPA2.push([sem, 0, 0, 0, 0]) \n          termGPA3.push([sem, 0]) \n        }\n\n        \n        let currentGPA = 0\n        termGPA2.forEach((s) => {\n          if (s[0] === sem) {\n            s[1] += Number(currrentGrade) \n            s[2] += Number(credit) \n            s[3] += Number(currrentGrade) * Number(credit)\n            s[4] = s[3] / s[2] \n            currentGPA = s[4]\n          }\n          \n        })\n        \n\n        termGPA3.forEach((sg) => {\n          if (sg[0] === sem) {\n            sg[1] = currentGPA\n          }\n        })\n        \n        \n        return (\n          <tr key={i}>\n            <td><FaBan onClick={() => deleteClick(i)}/></td>\n            <td style={styles.textCenter}>{v.sub}</td>\n            <td style={styles.textCenter}>{v.term}{\"/\"}{v.year}</td>\n            <td style={styles.textCenter}>{v.grade}</td>\n          </tr>\n        );\n      });\n    console.log(\"sum gpa, credits:\", gpa, totalCredit)\n    setDataRows(z);\n    setTotalGPA(gpa / totalCredit)\n    }, [data]);\n\n    \n    const clearData = () => {\n      setDataItems([])\n      setDataRows([])\n      console.log('cleared items')\n    }\n\n    \n    const deleteClick = (i) => {\n      console.log(i, 'deleted!')\n      data.splice(i,1)\n      setDataItems([...data])\n    }\n\n    return (\n      <Container>\n\n        <Row>\n\n          <Col>\n            <h2>Kasidit's GPA</h2>\n          </Col>\n\n          <Col>\n            <Button onClick={clearData} variant=\"dark\">Clear</Button>\n          </Col>\n\n        </Row>\n\n        <Table striped bordered hover>\n\n          <thead>\n            <tr>\n              <th></th>\n              <th>Subject</th>\n              <th>Term</th>\n              <th>Grade</th>\n            </tr>\n          </thead>\n\n          <tbody>\n            {dataRows}\n          </tbody>\n\n          <tfoot>\n            <tr>\n              <th colSpan={2}></th>\n              <th style={styles.textRight}>GPA</th>\n              <th style={styles.textRight}>{(totalGPA).toFixed(2)}</th>\n            </tr>\n          </tfoot>\n\n        </Table>\n\n       \n\n        </Container>\n    )\n}\n\nexport default GPATable;"]},"metadata":{},"sourceType":"module"}